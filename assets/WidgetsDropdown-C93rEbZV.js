import{r as o,_ as T,R as i,b as R,c as D,P as a,d as E,h as k,j as e,i as O,k as f,a2 as A,a4 as P}from"./index-1iaalndQ.js";import{C as S,a as W}from"./cil-user-C3Ad9PE7.js";import{C as U}from"./CProgress-zZf1CD69.js";import{d as y}from"./index.esm-BEFHA3jK.js";import{m as b,n as j,o as C,p as t}from"./DefaultLayout-EuUjBVKy.js";import{c as w}from"./cil-options-sHCm5Gxk.js";var p=o.forwardRef(function(s,n){var r,g=s.action,d=s.chart,h=s.className,c=s.color,m=s.title,u=s.value,x=T(s,["action","chart","className","color","title","value"]);return i.createElement(S,R({className:D((r={},r["bg-".concat(c)]=c,r["text-white"]=c,r),h)},x,{ref:n}),i.createElement(W,{className:"pb-0 d-flex justify-content-between align-items-start"},i.createElement("div",null,u&&i.createElement("div",{className:"fs-4 fw-semibold"},u),m&&i.createElement("div",null,m)),g),d)});p.propTypes={action:a.node,chart:a.oneOfType([a.string,a.node]),className:a.string,color:E,title:a.oneOfType([a.string,a.node]),value:a.oneOfType([a.string,a.node,a.number])};p.displayName="CWidgetStatsA";var M=o.forwardRef(function(s,n){var r=s.className,g=s.color,d=s.inverse,h=s.progress,c=s.text,m=s.title,u=s.value,x=T(s,["className","color","inverse","progress","text","title","value"]);return i.createElement(S,R({className:r,color:g},d&&{textColor:"white"},x,{ref:n}),i.createElement(W,null,u&&i.createElement("div",{className:"fs-4 fw-semibold"},u),m&&i.createElement("div",null,m),i.createElement(U,R({className:"my-2",height:4},d&&{white:!0},h)),c&&i.createElement("small",{className:d?"text-white text-opacity-75":"text-body-secondary"},c)))});M.propTypes={className:a.string,color:E,inverse:a.bool,progress:a.object,text:a.string,title:a.oneOfType([a.string,a.node]),value:a.oneOfType([a.string,a.node,a.number])};M.displayName="CWidgetCWidgetStatsB";var v=function(s,n){if(!(typeof window>"u")&&!(typeof document>"u")){var r=document.body;return window.getComputedStyle(r,null).getPropertyValue(s).replace(/^\s/,"")}};const I=s=>{const n=o.useRef(null),r=o.useRef(null),[g,d]=o.useState([]),[h,c]=o.useState(""),[m,u]=o.useState([]),[x,F]=o.useState(0);o.useEffect(()=>{document.documentElement.addEventListener("ColorSchemeChange",()=>{n.current&&setTimeout(()=>{n.current.data.datasets[0].pointBackgroundColor=v("--cui-primary"),n.current.update()}),r.current&&setTimeout(()=>{r.current.data.datasets[0].pointBackgroundColor=v("--cui-info"),r.current.update()})}),J("user"),B("writer")},[n,r]);const J=N=>{k.post("/api/admin/getusers/counts",{role:N}).then(l=>{console.log(l.data,"data"),d(l.data.users_by_month),c(l.data.total_users)}).catch(l=>{console.log(l)})},B=N=>{k.post("/api/admin/getusers/counts",{role:N}).then(l=>{console.log(l.data,"data"),u(l.data.users_by_month),F(l.data.total_users)}).catch(l=>{console.log(l)})};return e.jsxs(O,{className:s.className,xs:{gutter:4},children:[e.jsx(f,{sm:6,xl:4,xxl:3,children:e.jsx(p,{color:"primary",value:e.jsxs(e.Fragment,{children:[h||0," "," "]}),title:"Users",action:e.jsxs(b,{alignment:"end",children:[e.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(y,{icon:w})}),e.jsxs(C,{children:[e.jsx(t,{children:"Action"}),e.jsx(t,{children:"Another action"}),e.jsx(t,{children:"Something else here..."}),e.jsx(t,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(A,{ref:n,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:v("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),e.jsx(f,{sm:6,xl:4,xxl:3,children:e.jsx(p,{color:"info",value:e.jsxs(e.Fragment,{children:["$6.200"," "]}),title:"Income",action:e.jsxs(b,{alignment:"end",children:[e.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(y,{icon:w})}),e.jsxs(C,{children:[e.jsx(t,{children:"Action"}),e.jsx(t,{children:"Another action"}),e.jsx(t,{children:"Something else here..."}),e.jsx(t,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(A,{ref:r,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:v("--cui-info"),data:[1,18,9,17,34,22,11]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),e.jsx(f,{sm:6,xl:4,xxl:3,children:e.jsx(p,{color:"warning",value:e.jsxs(e.Fragment,{children:[x||0," "]}),title:"Writers",action:e.jsxs(b,{alignment:"end",children:[e.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(y,{icon:w})}),e.jsxs(C,{children:[e.jsx(t,{children:"Action"}),e.jsx(t,{children:"Another action"}),e.jsx(t,{children:"Something else here..."}),e.jsx(t,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(A,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})}),e.jsx(f,{sm:6,xl:4,xxl:3,children:e.jsx(p,{color:"danger",value:e.jsxs(e.Fragment,{children:["44K"," "]}),title:"Orders",action:e.jsxs(b,{alignment:"end",children:[e.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(y,{icon:w})}),e.jsxs(C,{children:[e.jsx(t,{children:"Action"}),e.jsx(t,{children:"Another action"}),e.jsx(t,{children:"Something else here..."}),e.jsx(t,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(P,{className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December","January","February","March","April"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40,85,65,23,12,98,34,84,67,82],barPercentage:.6}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1,drawTicks:!1},ticks:{display:!1}},y:{border:{display:!1},grid:{display:!1,drawBorder:!1,drawTicks:!1},ticks:{display:!1}}}}})})})]})};I.propTypes={className:a.string,withCharts:a.bool};export{M as C,I as W,v as g};
